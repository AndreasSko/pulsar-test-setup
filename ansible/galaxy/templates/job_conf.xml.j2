<?xml version="1.0"?>
<job_conf>
    <plugins workers="2">
        <plugin id="local" type="runner" load="galaxy.jobs.runners.local:LocalJobRunner"/>
        <plugin id="pulsarMQ" type="runner" load="galaxy.jobs.runners.pulsar:PulsarMQJobRunner">
            <!-- Must tell Pulsar where to send files. -->
            <param id="galaxy_url">{{ galaxy_instance_url }}</param>
            <!-- Message Queue Connection (should match message_queue_url in Pulsar's app.yml) -->
            <param id="amqp_url">{{ message_queue_url }}</param>
        </plugin>
    </plugins>
    <destinations default="remote_cluster_MQ">
        <destination id="local" runner="local"/>
        <destination id="remote_cluster_MQ" runner="pulsarMQ">
            <!-- Tell Galaxy where files are being stored on remote system, so
                 the web server can simply ask for this information.
            -->
            <param id="jobs_directory">{{ pulsar_jobs_directory }}</param>
            <!-- Remaining parameters same as previous example -->
            <param id="dependency_resolution">remote</param>
            <param id="default_file_action">remote_transfer</param>
        </destination>
    </destinations>
    <tools>
        <tool id="Show beginning1" destination="remote_cluster_MQ" />
        <tool id="toolshed.g2.bx.psu.edu/repos/devteam/samtools_stats/samtools_stats/2.0.2+galaxy1" destination="remote_cluster_MQ"/>
        <tool id="Show tail1" destination="remote_cluster_MQ" />
        </tools>
</job_conf>
